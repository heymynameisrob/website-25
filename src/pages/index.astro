---
import { getCollection } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import HomeNav from "@/components/HomeNav.astro";
import HomeHeader from "@/components/HomeHeader.astro";

import { ScrollStrip } from "@/components/ScrollStrip";

import { filterPosts } from "@/lib/utils";

const allPosts = await getCollection("posts");
const allValidPosts = filterPosts(allPosts);
---

<Layout>
  <HomeNav />
  <HomeHeader />
  <ScrollStrip posts={allValidPosts} client:load />
</Layout>
